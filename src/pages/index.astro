---
import Dashboard from "../components/pages/Dashboard.astro";
import Layout from "../layouts/Layout.astro";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);
---

<Layout title="Home">
  <Dashboard>
    <div slot="main-content">
      <div class="flex flex-col items-center justify-center h-screen">
        <h1 class="text-4xl font-bold">Welcome to Astro</h1>
        <p class="text-lg mt-4">This is the Home Page</p>
        <p class="text-lg mt-4">User: {session?.user?.email}</p>
      </div>
    </div>
  </Dashboard>
  <!-- This adds margin equal to sidebar width on lg screens -->
  <!-- <div class="text-center">
    <Button
      name="solid"
      aria-haspopup="dialog"
      aria-expanded="false"
      aria-controls="hs-offcanvas-example"
      aria-label="Toggle navigation"
      data-hs-overlay="#hs-offcanvas-example"
      text="Open Sidebar"
    />
  </div> -->
</Layout>
