---
import type { Student } from "../../../types/api";

interface Props {
  students: Student[];
}
const { id } = Astro.params;
const { students } = Astro.props;

import Table from "../../../ui/Table.astro";
---

{
  students.length > 0 ? (
    <Table
      href={`intro/course/${id}/student`}
      id={students.map((student: Student) => student.id_student)}
      data={students.map((student: Student) => ({
        dni: student.dni,
        first_name: student.first_name,
        last_name: student.last_name,
        address: student.address,
        parent: student.parent_details
          ? `${student.parent_details.first_name} ${student.parent_details.last_name}`
          : "",
      }))}
    />
  ) : (
    <p>No students found</p>
  )
}
