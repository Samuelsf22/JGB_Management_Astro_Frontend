---
interface Props{
    id: string;
    type: 'text' | 'password' | 'email' | 'number' | 'tel';
    label: string;
    placeholder: string;
    showToggle?: boolean;
}
import { Icon } from "astro-icon/components";
const { id, type, label, placeholder, showToggle = false } = Astro.props;
---

<div class="relative">
  <input
    type={type}
    id={id}
    class="peer p-4 block w-full bg-transparent rounded-lg text-sm placeholder:text-transparent border-light-foreground-300 focus:border-primary focus:ring-primary disabled:opacity-50 disabled:pointer-events-none dark:border-dark-foreground-700 dark:focus:border-dark-foreground-500 dark:focus:ring-dark-foreground-500
    focus:pt-6
    focus:pb-2
    [&:not(:placeholder-shown)]:pt-6
    [&:not(:placeholder-shown)]:pb-2
    autofill:pt-6
    autofill:pb-2"
    placeholder={placeholder}
  />
  <label
    for={id}
    class="absolute top-0 start-0 p-4 h-full text-sm truncate pointer-events-none transition ease-in-out duration-100 border border-transparent origin-[0_0] peer-disabled:opacity-50 peer-disabled:pointer-events-none
    peer-focus:scale-90
    peer-focus:translate-x-0.5
    peer-focus:-translate-y-1.5
    peer-focus:text-primary dark:peer-focus:text-dark-foreground-500
    peer-[:not(:placeholder-shown)]:scale-90
    peer-[:not(:placeholder-shown)]:translate-x-0.5
    peer-[:not(:placeholder-shown)]:-translate-y-1.5
    peer-[:not(:placeholder-shown)]:text-primary dark:peer-[:not(:placeholder-shown)]:text-dark-foreground-500"
  >{label}</label>
  {showToggle && (
    <button
      type="button"
      data-hs-toggle-password='{
        "target": "#hs-floating-input-password"
      }'
      class="absolute inset-y-0 end-0 flex items-center z-20 px-3 cursor-pointer text-light-foreground-300 rounded-e-md focus:outline-none hover:text-primary dark:text-dark-foreground-500 dark:hover:text-dark-foreground-700 transition-colors duration-200 ease-in-out"
    >
      <Icon
        name="mdi:eye-outline"
        size={24}
        class="hs-password-active:hidden"
      />
      <Icon
        name="mdi:eye-off-outline"
        size={24}
        class="hidden hs-password-active:block"
      />
    </button>
  )}
</div>